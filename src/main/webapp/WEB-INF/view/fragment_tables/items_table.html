<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<!-- form start -->
	<form role="form" th:unless="${#maps.isEmpty(item_map)}">
		<div class="col-sm-12">
			<div class="form-group" align="left">
				<button type="button" id="delete_selected_items" th:uri="@{/item/remove}" class="btn btn-sm btn-danger">Remove selected items</button>
			</div>
		</div>
		<div class="card">
			<div th:fragment="table">
				<div class="card-header">
					<h3 class="card-title">Items</h3>
					<div class="card-tools">
						<div class="input-group input-group-sm" style="width: 150px;">
							<input type="text" name="table_search" class="form-control float-right" placeholder="Search">
							<div class="input-group-append">
								<button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button>
							</div>
						</div>
					</div>
				</div>
				<!-- /.card-header -->
				<div class="card-body">
					<div class="table-responsive p-0" style="max-height: 300px;">
						<table class="table table-head-fixed">
							<thead>
								<tr>
									<th th:unless="${tbl_chbx != null}"><input type="checkbox" class="all_item_ckbx"></th>
									<th>Category</th>
									<th>Product</th>
									<th>Size</th>
									<th>Color</th>
									<th>Style</th>
									<th>Unit</th>
									<th>Quantity</th>
									<th>Unit Price</th>
									<th>Total Price</th>
								</tr>
							</thead>
							<tbody th:unless="${#maps.isEmpty(item_map)}">
								<tr th:each="item_entry : ${item_map}">
									<td th:unless="${tbl_chbx != null}"><input type="checkbox" class="item_ckbx" th:itemId="${item_entry.key}"></td>
									<td th:text="${category_names_map.get(item_entry.value.category_id)}">Category</td>
									<td th:text="${product_names_map.get(item_entry.value.product_id)}">Product</td>
									<td th:text="${size_names_map.get(item_entry.value.size_id)}">Size</td>
									<td th:text="${color_names_map.get(item_entry.value.color_id)}">Color</td>
									<td th:text="${unit_names_map.get(item_entry.value.unit_id)}">Unit</td>
									<td th:text="${item_entry.value.style}">Style</td>
									<td th:text="${item_entry.value.quantity}">Quantity</td>
									<td th:text="${item_entry.value.unit_price}">Unit Price</td>
									<td th:text="${item_entry.value.total_price}">Total Price</td>
								</tr>
								<tr>
									<td th:text="${'Total quantity ='}" align="right"></td>
									<td th:text="${total_quantity}" align="right"></td>
								</tr>
								<tr>
									<td th:text="${'Total price ='}" align="right"></td>
									<td th:text="${total_price}" align="right"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- /.card-body -->
			</div>
			<div class="card-footer">
				<a class="btn btn-primary" th:href="@{${'/' + base_uri + '/final'}}" >Proceed order</a>
				<input class="btn btn-warning" type="reset">
			</div>
			<!-- /.card-footer -->
		</div>
		<!-- /.card -->
	</form>
	<script th:src="@{/resources/js/legend.script.js}" /></script>
</html>